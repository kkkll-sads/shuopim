# 🧪 快速测试指南

## 开始测试

确保开发服务器正在运行：
```bash
cd vue3-capacitor-h5
npm run dev
```

## 测试步骤

### ✅ 测试 1: 登录功能
1. 访问 http://localhost:3000/login
2. 输入任意手机号（例如：13800138000）
3. 输入任意密码（例如：123456）
4. 勾选协议复选框
5. 点击"登录"按钮

**预期结果：**
- 按钮文字变为"登录中..."
- 按钮变灰不可点击
- 1秒后自动跳转到首页（/home）
- 首页正常显示

### ✅ 测试 2: 注册功能
1. 在登录页点击"去注册"
2. 输入手机号（例如：13900139000）
3. 输入密码（例如：123456）
4. 点击"获取验证码"
5. 输入验证码（任意6位数字）
6. 输入邀请码（选填）
7. 勾选协议复选框
8. 点击"注册"按钮

**预期结果：**
- 验证码按钮倒计时60秒
- 按钮文字变为"注册中..."
- 1秒后弹出"注册成功！请登录"
- 自动跳转到登录页

### ✅ 测试 3: 找回密码功能
1. 在登录页点击"忘记密码"
2. 输入手机号
3. 点击"获取验证码"
4. 输入验证码（任意6位数字）
5. 输入新密码
6. 点击"修改密码"按钮

**预期结果：**
- 验证码按钮倒计时60秒
- 按钮文字变为"修改中..."
- 1秒后弹出"密码修改成功！请登录"
- 自动跳转到登录页

### ✅ 测试 4: 路由守卫（未登录）
1. 清除浏览器 localStorage（F12 → Application → Local Storage → Clear）
2. 直接访问 http://localhost:3000/home

**预期结果：**
- 自动重定向到 http://localhost:3000/login

### ✅ 测试 5: 路由守卫（已登录）
1. 完成登录（生成 token）
2. 访问 http://localhost:3000/login

**预期结果：**
- 自动重定向到 http://localhost:3000/home

### ✅ 测试 6: 刷新页面保持登录
1. 完成登录，在首页
2. 按 F5 刷新浏览器

**预期结果：**
- 仍然显示首页
- 不会跳回登录页

### ✅ 测试 7: 页面间导航
1. 在登录页点击"去注册" → 应该跳到注册页
2. 在注册页点击"去登录" → 应该跳到登录页
3. 在登录页点击"忘记密码" → 应该跳到找回密码页
4. 在找回密码页点击"去登录" → 应该跳到登录页

**预期结果：**
- 所有导航都正常工作
- 没有页面闪烁或错误

## 📊 测试检查清单

复制下面的清单，测试时打勾：

```
登录功能
□ 表单验证正常
□ 协议检查生效
□ 显示加载状态
□ 成功跳转首页

注册功能
□ 表单验证正常
□ 验证码倒计时
□ 协议检查生效
□ 显示加载状态
□ 成功提示并跳转

找回密码功能
□ 表单验证正常
□ 验证码倒计时
□ 显示加载状态
□ 成功提示并跳转

路由守卫
□ 未登录访问首页重定向
□ 已登录访问登录页重定向
□ 刷新页面保持登录状态

页面导航
□ 登录 ↔ 注册 正常
□ 登录 ↔ 找回密码 正常
□ 所有链接可点击

样式检查
□ 所有页面无模糊效果
□ 背景渐变统一
□ 按钮样式一致
□ 加载状态显示正常
```

## 🐛 常见问题

### Q: 点击登录后没有跳转
**A:** 检查以下几点：
1. 是否勾选了协议复选框
2. 打开浏览器控制台查看是否有错误
3. 检查 localStorage 中是否保存了 token

### Q: 刷新后回到登录页
**A:** 可能是 token 没有保存成功
1. F12 → Application → Local Storage
2. 检查是否有 `token` 项
3. 如果没有，重新登录

### Q: 验证码按钮一直是灰色
**A:** 刷新页面重新开始

### Q: 页面跳转后显示空白
**A:** 检查目标页面是否存在错误
1. F12 打开控制台查看错误
2. 确认所有页面文件都存在

## 💡 调试技巧

### 查看 Token
```javascript
// 在浏览器控制台输入
localStorage.getItem('token')
```

### 查看用户信息
```javascript
// 在浏览器控制台输入
localStorage.getItem('userInfo')
```

### 清除登录状态
```javascript
// 在浏览器控制台输入
localStorage.clear()
// 然后刷新页面
```

### 模拟已登录状态
```javascript
// 在浏览器控制台输入
localStorage.setItem('token', 'test_token_123')
// 然后刷新页面
```

## ✅ 测试成功标准

所有测试通过后，你应该能：
- ✅ 在登录页成功登录并跳转到首页
- ✅ 在注册页成功注册并跳转到登录页
- ✅ 在找回密码页成功修改密码并跳转到登录页
- ✅ 未登录时访问首页会被重定向到登录页
- ✅ 已登录时访问登录页会被重定向到首页
- ✅ 刷新页面后保持登录状态
- ✅ 所有页面导航正常工作
- ✅ 所有按钮加载状态正常显示

**如果以上都正常，恭喜你！登录重定向功能完美运行！** 🎉

